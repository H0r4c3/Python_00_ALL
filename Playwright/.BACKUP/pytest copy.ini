[pytest]
# Test discovery
testpaths =
    ChatGPT
    ChatGPT/Example
    CLAUDE
    eztv
    CLAUDE/converted_examples
    CLAUDE/converted_examples/tests
    
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Execution options:
# -v: Verbose (show test names)
# -ra: Show summary of all results
# -s: Show print statements
# --headed: Show browser
# --slowmo=500: Slow down by 500ms
# --screenshot only-on-failure: Screenshots only when tests fail
# --video retain-on-failure: Videos only for failures
# --tb=short: Shorter traceback

addopts =
    -v
    -ra
    -s
    --headed
    --browser chromium
    --slowmo=500
    --screenshot only-on-failure
    --video retain-on-failure
    --output ./results_Playwright/test-results
    --tb=short
    --html=./results_Playwright/test-report.html
    --self-contained-html

pythonpath = 
    .
    CLAUDE/converted_examples


# Exclude directories
norecursedirs = 
    venv-playwright 
    Backups
    __pycache__
    .git
    .pytest_cache
    results_Playwright

# Test markers
markers =
    smoke: quick checks
    e2e: end-to-end ui
    regression: Regression test suite
    wip: Work in progress tests (skip in CI)

# Logging - show logs in console
log_cli = true
# Log level
log_cli_level = INFO
# Log format
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s
# Date format
log_cli_date_format = %H:%M:%S

# File logging
log_file = ./results_Playwright/test-logs.log
log_file_level = INFO
log_file_format = %(asctime)s [%(levelname)8s] %(message)s
log_file_date_format = %Y-%m-%d %H:%M:%S


# What each option does:

# -q = quiet mode (less verbose output)
# -ra = show summary of all test results
# -s = show print statements (don't capture stdout)
# --headed = show browser window (not headless)
# --browser chromium = use Chrome
# --screenshot only-on-failure = screenshot failed tests
# --video retain-on-failure = video of failed tests
# --output ./test-results = save artifacts here
